{% set current_theme = current_theme() %}
<!doctype html>
<html lang="es" class="h-100">
    <head>
        {{ current_theme.headertags() }}
        <title>{{ title }}</title>

        {{ current_theme.local_style() }}
    </head>

    <body>
        {{ current_theme.navbar() }}

        <main>
            <form method="post">
                <div class="container">
                    <div class="py-5 text-center">
                        <h1 class="h2">
                            Esta a punto de inscribirse al curso {{ curso.codigo | upper}} - {{ curso.nombre | upper }}
                        </h1>
                        {{ form.csrf_token }}
                        <p class="lead">Complete la siguiente información para completar su registro.</p>
                    </div>
                    <div class="row g-5">
                        <div class="col-md-5 col-lg-4 order-md-last">
                            <h4 class="d-flex justify-content-between align-items-center mb-3">
                                <span class="text-primary">Resumen</span>
                            </h4>
                            <ul class="list-group mb-3">
                                <li class="list-group-item d-flex justify-content-between lh-sm">
                                    <div>
                                        <h6 class="my-0">Curso</h6>
                                        <small class="text-body-secondary">{{ curso.nombre }}</small>
                                    </div>
                                </li>
                                <li class="list-group-item d-flex justify-content-between lh-sm">
                                    <div>
                                        <h6 class="my-0">Descripción</h6>
                                        <small class="text-body-secondary">{{ curso.descripcion_corta }}</small>
                                    </div>
                                </li>
                                {% if curso.pagado %}
                                <li class="list-group-item d-flex justify-content-between lh-sm">
                                    <div>
                                        <h6 class="my-0">Precio</h6>
                                        <small class="text-body-secondary">{{ curso.precio | round(2) }}</small>
                                    </div>
                                </li>
                                <li class="list-group-item d-flex justify-content-between">
                                    <span>Total (USD)</span>
                                    <strong>{{ curso.precio | round(2) }}</strong>
                                    {% endif %}
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-7 col-lg-8">
                            <h4 class="mb-3">Billing address</h4>
                            <div class="row g-3">
                                <div class="col-sm-6">
                                    <label for="nombre" class="form-label">Nombre</label>
                                    {{ form.nombre(class="form-control", id="nombre") }}
                                    <div class="invalid-feedback">Valid first name is required.</div>
                                </div>
                                <div class="col-sm-6">
                                    <label for="apellido" class="form-label">Apellido</label>
                                    {{ form.apellido(class="form-control", id="apellido") }}
                                    <div class="invalid-feedback">Valid last name is required.</div>
                                </div>
                                <div class="col-12">
                                    <label for="correo_electronico" class="form-label">Correo Electronico</label>
                                    {{ form.correo_electronico(class="form-control", id="correo_electronico") }}
                                    <div class="invalid-feedback">
                                        Please enter a valid email address for shipping updates.
                                    </div>
                                </div>
                                <div class="col-12">
                                    <label for="dirrecion1" class="form-label">Dirección</label>
                                    {{ form.direccion1(class="form-control", id="dirrecion1") }}
                                    <div class="invalid-feedback">Please enter your shipping address.</div>
                                </div>
                                <div class="col-12">
                                    <label for="direccion2" class="form-label">Dirección 2</label>
                                    {{ form.direccion2(class="form-control", id="direccion2") }}
                                </div>
                                <div class="col-md-5">
                                    <label for="pais" class="form-label">País</label>
                                    {{ form.pais(class="form-select", id="pais") }}
                                    <div class="invalid-feedback">Please select a valid country.</div>
                                </div>
                                <div class="col-md-4">
                                    <label for="provincia" class="form-label">Estado</label>
                                    {{ form.provincia(class="form-control", id="provincia") }}
                                    <div class="invalid-feedback">Please provide a valid state.</div>
                                </div>
                                <div class="col-md-3">
                                    <label for="codigo_postal" class="form-label">Código Postal</label>
                                    {{ form.codigo_postal(class="form-control", id="codigo_postal") }}
                                    <div class="invalid-feedback">Zip code required.</div>
                                </div>
                            </div>
                            <br />
                            {% if curso.pagado %} {% if curso.auditable %}
                            <a class="w-100 btn btn-warning" name="metodo" value="audit" type="submit"
                                >Auditar contenido del curso</a
                            >
                            <br />
                            <p>
                                Puede acceder al contenido del curso pero no podra resolver las evaluaciones u obtener un
                                certificado al finalizar.
                                <br />
                                Puede cancelar el valor curso antes de finalizarlo y accerder a las evaluaciones y la
                                certificación.
                            </p>
                            <br />
                            {% endif %}
                            <a class="w-100 btn btn-primary" name="metodo" value="take" type="submit">Proceder al pago</a>
                            {% else %}
                            <button class="w-100 btn btn-primary" name="metodo" value="free" type="submit">
                                Inscribirse al curso
                            </button>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </form>
        </main>
    </body>
</html>
