{% import "macros.html" as macros %}

<!doctype html>
<html lang="es" class="h-100">

<head>

    {{ macros.headertags() }}
    <title>Lista de usuarios</title>

    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }

    </style>
</head>

<body>

    {{ macros.navbar() }}

    <main>
        <div class="container  px-0 py-3" id="lista-usarios">

            <div class="d-flex justify-content-between border-bottom">

                <h4>Usuarios registrados en el sistema.</h4>
                
                <p>
                    <span class="badge bg-success">
                        <a href="{{ url_for("crear_usuario") }}" class="link-light">Nuevo Usuario</a>
                    </span>
                </p>

            </div>

            <div class="container" id="user_table">

                <table class="table">
                    <caption>Lista de usuarios registrados en el sistema.</caption>
                    <thead>
                        <tr>
                            <th scope="col">Usuario</th>
                            <th scope="col">Nombre</th>
                            <th scope="col">Apellido</th>
                            <th scope="col">Tipo</th>
                            <th scope="col">Estado</th>
                            <th scope="col">Fecha registro</th>
                        </tr>
                    </thead>
                    {% for item in consulta.items -%}
                    <tbody>
                        <tr>
                            
                            <td>
                                <a href="{{ url_for("usuario", id_usuario=item.usuario) }}" class="link-dark">
                                    {{ item.usuario }}
                                </a>
                            </td>
                            <td>
                                <a href="{{ url_for("usuario", id_usuario=item.usuario) }}" class="link-dark">
                                    {{ item.nombre }}
                                </a>
                            </td>
                            <td>
                                <a href="{{ url_for("usuario", id_usuario=item.usuario) }}" class="link-dark">
                                    {{ item.apellido }}
                                </a>
                            </td>
                            <td>
                                <a href="{{ url_for("usuario", id_usuario=item.usuario) }}" class="link-dark">
                                    {{ item.tipo }}
                                </a>
                            </td>
                            <td>
                                <a href="{{ url_for("usuario", id_usuario=item.usuario) }}" class="link-dark">
                                    {{ item.activo| replace("True", "Activo") | replace("False", "Inactivo") }}
                                </a>
                            </td>
                            <td>
                                <a href="{{ url_for("usuario", id_usuario=item.usuario) }}" class="link-dark">
                                    {{ item.creado }}
                                </a>
                            </td>
                        </tr>
                    </tbody>
                    {% endfor %}
                </table>
            </div>

            <div class="container" id="user_paginatios">
                {{ macros.rendizar_paginacion(consulta=consulta, vista="usuarios") }}
            </div>

        </div>
    </main>
</body>

</html>
